# Application Configuration
DEBUG_MODE=false
STATE_TTL_SECONDS=86400

# State Repository Configuration
# Options: in_memory (default) or postgres
# Use 'in_memory' for development/testing (state lost on restart)
# Use 'postgres' for production (state persists across restarts)
CONVERSATION_STATE_REPOSITORY=postgres

# Lead Repository Configuration
# Options: in_memory (default) or postgres
# Use 'in_memory' for development/testing (leads lost on restart)
# Use 'postgres' for production (leads persist across restarts)
LEAD_REPOSITORY=postgres

# Database Configuration (required when CONVERSATION_STATE_REPOSITORY=postgres)
# PostgreSQL connection string
# Format: postgresql+psycopg2://user:password@host:port/database
# Example for local development with Docker Compose:
DATABASE_URL=postgresql+psycopg2://postgres:postgres@db:5432/kavak_agent

# Twilio Configuration
# Get these from your Twilio Console: https://console.twilio.com
TWILIO_ACCOUNT_SID=your_account_sid_here
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# Enable signature validation (default: false)
# Set to true in production for security
TWILIO_VALIDATE_SIGNATURE=false

# OpenAI LLM Configuration (Optional)
# Enable LLM-powered natural language generation for FAQ responses
# Set to true to enable OpenAI integration for enhanced FAQ responses
LLM_ENABLED=false

# OpenAI API key (required when LLM_ENABLED=true)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# OpenAI model (optional, defaults to gpt-4o-mini)
# Options: gpt-4o-mini, gpt-4o, gpt-4-turbo, etc.
OPENAI_MODEL=gpt-4o-mini

# OpenAI API request timeout in seconds (optional, defaults to 10)
OPENAI_TIMEOUT_SECONDS=10

# Twilio Idempotency Configuration
# Enable idempotency for Twilio WhatsApp webhook to prevent duplicate replies on retries
# Set to true to enable Redis-based idempotency (default: true)
TWILIO_IDEMPOTENCY_ENABLED=true

# Redis URL for idempotency storage
# Format: redis://[user:password@]host:port[/database]
# Default: redis://localhost:6379/0
# Required when TWILIO_IDEMPOTENCY_ENABLED=true
REDIS_URL=redis://localhost:6379/0

# Idempotency TTL in seconds (default: 3600 = 1 hour)
# How long to store processed message IDs and responses in Redis
TWILIO_IDEMPOTENCY_TTL_SECONDS=3600
